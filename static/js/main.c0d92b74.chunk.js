(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{371:function(e,t,n){e.exports=n(476)},375:function(e,t,n){},406:function(e,t){},413:function(e,t){},414:function(e,t){},422:function(e,t){},474:function(e,t,n){},476:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(39),i=n.n(o),s=(n(375),n(8)),c=n(16),l=n(43),u=n(44),d=n(27),m=n(91),p=n(58),h=n(78),f=n(49),g="SAVE_ROUTE_HISTORY",E="ROUTE_REDIRECT",y={history:void 0},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object.assign({},e,{history:t.payload});case E:default:return e}};function b(e){return function(t,n){n().app.history.push(e),t({type:E,payload:e})}}var O=n(73),N=n.n(O),S=n(18),C="NAME_REGISTER",R="GET_QUESTION_ASKED",_="GET_QUESTION_ASKED_CONFIRMED",k="SET_ERRORS",w="GET_QUESTION_ASKED_BY_USER",j="GET_QUESTION_ASKED_BY_USER_CONFIRMED",I="GET_QUESTION_ASKED_BY_USER_FAILED",x="GET_ROOM_JOINED_BY_USER",D="GET_ROOM_JOINED_BY_USER_CONFIRMED",A="GET_ROOM_JOINED_BY_USER_FAILED",T="SET_ROOM_JOINED",M="SET_ROOM_JOINED_SUCCESS",L="REFRESH_TOKEN",F="REFRESH_TOKEN_SUCCESS",B="REFRESH_TOKEN_FAILED",U="LOGIN",P="LOGIN_SUCCESS",q="LOGIN_FAILED",G="SIGNUP",H="SIGNUP_SUCCESS",W="SIGNUP_FAILED",Q="LOGOUT",V="GET_USER_INFO",K="GET_USER_INFO_SUCCESS",J="GET_USER_INFO_FAILED",z="FORGOT_PASSWORD",Y="FORGOT_PASSWORD_SUCCESS",X="FORGOT_PASSWORD_FAILED",$="CONFIRM_ACCOUNT_PASSWORD",Z="CONFIRM_ACCOUNT_SUCCESS",ee="CONFIRM_ACCOUNT_FAILED",te="CONFIRM_FORGOT_PASSWORD",ne="CONFIRM_FORGOT_PASSWORD_SUCCESS",ae="CONFIRM_FORGOT_PASSWORD_FAILED",re={userName:" ",fullName:" ",questionsAsked:[],room_joined:[],error:"",isLoggedin:!1,is_loading:!1,codeSent:!1},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object.assign({},e,{error:"",is_loading:!1,codeSent:!1});case C:return Object.assign({},e,{fullName:t.payload.fullName,userName:t.payload.userName});case G:return Object.assign({},e,{error:"",is_loading:!0});case H:return Object.assign({},e,{error:"",is_loading:!1});case W:return Object.assign({},e,{error:t.payload,is_loading:!1});case U:return Object.assign({},e,{error:"",is_loading:!0});case P:return Object.assign({},e,{error:"",isLoggedin:!0,is_loading:!1});case q:return Object.assign({},e,{error:t.payload,is_loading:!1});case $:return Object.assign({},e,{error:"",is_loading:!0});case Z:return Object.assign({},e,{error:"",isLoggedin:!0,is_loading:!1});case ee:return Object.assign({},e,{error:t.payload,is_loading:!1});case z:return Object.assign({},e,{error:"",is_loading:!0});case Y:return Object.assign({},e,{error:"",codeSent:!0,is_loading:!1});case X:return Object.assign({},e,{error:t.payload,is_loading:!1});case te:return Object.assign({},e,{error:"",is_loading:!0});case ne:return Object.assign({},e,{error:"",codeSent:!0,is_loading:!1});case ae:return Object.assign({},e,{error:t.payload,is_loading:!1});case R:return e;case _:var n=Object(S.a)(e.questionsAsked);return n.push(t.payload),Object.assign({},e,{questionsAsked:n});case w:return e;case j:return Object.assign({},e,{questionsAsked:t.payload});case I:case x:return e;case D:var a=t.payload;return a.reverse(),Object.assign({},e,{room_joined:a});case A:case L:case F:case B:case V:return e;case K:return Object.assign({},e,{userName:t.payload[0].Value,fullName:"".concat(t.payload[2].Value," ").concat(t.payload[3].Value)});case J:case T:return e;case M:var r=Object(S.a)(e.room_joined);return e.room_joined.some(function(e){return e===t.payload})?e:(r.push(t.payload),r.reverse(),Object.assign({},e,{room_joined:r}));case Q:return re;default:return e}},ie=n(66),se=n.n(ie),ce="https://t4692bryxh.execute-api.us-east-1.amazonaws.com/dev",le=n(560);function ue(e){var t=Object(le.a)();return function(n){n({type:C,payload:{fullName:e,userName:t}})}}function de(){return function(e){e({type:V}),se()("".concat(ce,"/getuserinfo"),{method:"POST",withCredentials:!0}).then(function(t){var n,a=t.data.UserAttributes;e({type:K,payload:a}),N.a.set("given_name",a[2].Value),N.a.set("family_name",a[3].Value),e((n=a[0].Value,function(e){e({type:w}),se()("".concat(ce,"/getquestionaskedbyuser"),{method:"POST",withCredentials:!0,data:{userName:n}}).then(function(t){e({type:j,payload:t.data})}).catch(function(t){e({type:I}),console.log(t)})})),e(function(e){return function(t){t({type:x}),se()("".concat(ce,"/getroomjoined"),{method:"POST",withCredentials:!0,data:{userName:e}}).then(function(e){t({type:D,payload:e.data})}).catch(function(e){t({type:A}),console.log(e)})}}(a[0].Value))}).catch(function(t){e({type:J}),console.log(t.response)})}}var me=n(17),pe=n(482),he=n(562),fe=n(521),ge=n(522),Ee=n(477),ye=n(112),ve=n(523),be=n(524),Oe=n(525),Ne=n(526),Se=n(528),Ce=n(529),Re=n(530),_e=n(558),ke=n(533),we=n(531),je=n(534),Ie=n(527),xe="CREATE_ROOM_SUCCESS",De="CONNECT_TO_ROOM",Ae="DISCONNECT_FROM_ROOM",Te="ROOM_CONNECTION_CONFIRMED",Me="ROOM_CONNECTION_FAILED",Le="RECONNECT_TO_ROOM",Fe="ADD_NEW_QUEUE",Be="ADD_NEW_QUEUE_CONFIRMED",Ue="REFRESH_QUEUE",Pe="REFRESH_QUEUE_FAILED",qe="REFRESH_QUEUE_DONE",Ge="STOP_TALKING",He="DONE_TALKING_CONFIRMED",We="ADD_NEW_QUESTION",Qe="ADD_NEW_QUESTION_CONFIRMED",Ve="REFRESH_QUESTIONS",Ke="REFRESH_QUESTIONS_FAILED",Je="REFRESH_QUESTIONS_DONE",ze="REMOVE_QUESTION",Ye="REMOVE_QUESTION_CONFIRMED",Xe="WHITE_BOARD_SAVED",$e="SAVE_WHITEBOARD",Ze="DRAWING_LINES",et="DRAWING_LINES_CONFIRMED",tt="REFRESH_WHITEBOARD",nt="REFRESH_WHITEBOARD_DONE",at="REFRESH_WHITEBOARD_FAILED",rt="CLEAR_WHITEBOARD",ot="WHITEBOARD_CLEARED",it="UNDO_ACTION",st="UNDO_ACTION_DONE",ct="REDO_ACTION",lt="REDO_ACTION_DONE",ut="ADD_NEW_MEMBER_CONFIRMED",dt="REFRESH_MEMBERS",mt="REFRESH_MEMBERS_DONE",pt="REFRESH_MEMBERS_FAILED",ht="REMOVE_MEMBER_FROM_ROOM",ft="CHANGING_MODE",gt="CHANGING_MODE_CONFIRMED",Et="SEND_EMOJI",yt="PING_MESSAGE",vt="disconnected",bt="connecting",Ot="connected",Nt="failed",St={connectionStatus:vt,is_admin:void 0,roomId:void 0,modeName:void 0,event:void 0,lines:[],queue:[],questions:[],members:[],messages:[]},Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:return e;case De:return Object.assign({},e,{connectionStatus:bt,event:void 0});case Ae:return Object.assign({},e,{connectionStatus:vt});case ht:var n=e.members;return Object.assign({},e,{members:n.filter(function(e){return e.userName!==t.userName.userName})});case Me:return Object.assign({},e,{connectionStatus:Nt,roomId:void 0});case Te:return Object.assign({},e,{connectionStatus:Ot,roomId:t.roomId,is_admin:t.isAdmin,modeName:t.modeName});case Le:return Object.assign({},e,{event:t.message});case Fe:return e;case Be:var a=Object(S.a)(e.queue);return a.push(t.userName),Object.assign({},e,{queue:a});case Ue:case Pe:return e;case qe:return Object.assign({},e,{queue:t.payload});case Ge:return e;case He:var r=Object(S.a)(e.queue);return Object.assign({},e,{queue:r.filter(function(e){return e.userName!==t.userName})});case We:return e;case Qe:var o=Object(S.a)(e.questions);return o.push(t.question),Object.assign({},e,{questions:o});case Ve:case Ke:return e;case Je:return Object.assign({},e,{questions:t.payload});case ze:return e;case Ye:var i=e.questions;return Object.assign({},e,{questions:i.filter(function(e){return e.question_id!==t.question_id})});case Ze:return e;case et:var s=e.lines,c=t.lines;return Object.assign({},e,{lines:s.concat(c)});case tt:case at:return e;case nt:return Object.assign({},e,{lines:[].concat.apply([],t.payload)});case $e:return e;case Xe:return Object.assign({},e,{lines:t.payload.lines});case rt:return e;case ot:return Object.assign({},e,{lines:t.lines});case it:return e;case st:var l=Object(S.a)(e.lines);return l.pop(t.lines),Object.assign({},e,{lines:l});case ct:return e;case lt:var u=Object(S.a)(e.lines);return u.push(t.lines),Object.assign({},e,{lines:u});case ut:var d=Object(S.a)(e.members);return d.push(t.userName),Object.assign({},e,{members:d});case dt:case pt:return e;case mt:return Object.assign({},e,{members:t.payload});case ft:return e;case gt:return Object.assign({},e,{modeName:t.modeName});case yt:var m=Object(S.a)(e.messages);return m.push({content:t.content}),Object.assign({},e,{messages:m});case Et:return console.log(t.payload),e;default:return e}};function Rt(e){return function(t){t({type:Ve}),se()("".concat(ce,"/getquestions/").concat(e),{method:"GET"}).then(function(e){t({type:Je,payload:e.data})}).catch(function(e){t({type:Ke,payload:e}),t(b("/notfound"))})}}function _t(e){return function(t){t({type:Ue}),se()("".concat(ce,"/getqueues/").concat(e),{method:"GET"}).then(function(e){t({type:qe,payload:e.data})}).catch(function(e){t({type:Pe,payload:e}),t(b("/join"))})}}function kt(e){return function(t){t({type:tt}),se()("".concat(ce,"/getwhiteboardcontents/").concat(e),{method:"GET"}).then(function(e){t({type:nt,payload:e.data})}).catch(function(e){t({type:at,payload:e})})}}var wt=n(46),jt=function(e){var t,n,a,r,o;return{root:{background:"#edeaea",fontFamily:"Baloo Tamma 2",width:"100vw",height:"100vh",display:"flex",flexDirection:"column",position:"fixed",overflowX:"hidden"},inputField:Object(wt.a)({height:"100vh",width:"100vw",position:"fixed",alignItems:"center",top:"40%"},e.breakpoints.down("sm"),{top:"35%"}),inputId:(t={height:57,borderRadius:25,fontWeight:"bolder",background:"#f9f9f9",padding:"0 15px",boxShadow:"5px 5px 5px 0 rgba(0,0,0,.3)",justifyContent:"center",width:450},Object(wt.a)(t,e.breakpoints.down("sm"),{width:300}),Object(wt.a)(t,e.breakpoints.down("md"),{width:350}),t),Typography:Object(wt.a)({textAlign:"left"},e.breakpoints.down("sm"),{textAlign:"center"}),clashes:{margin:"0 3%"},card:{backgroundColor:"#f9f7f7",paddingRight:"",textAlign:"left"},avatar:{color:"#333333",cursor:"pointer"},drawer:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",background:"#333333",color:"#edeaea"},topDrawer:{height:"80px"},bottomDrawer:{bottom:0,position:"fixed"},mappingItemContainer:{margin:"auto",overflowY:"auto",paddingRight:9,paddingTop:12,display:"flex",flexDirection:"column",position:"relative",height:"40vh",width:"100%"},roomJoinedContainer:(n={margin:"auto",overflowY:"auto",padding:"3%",display:"flex",flexDirection:"column",borderRadius:"1em",background:"#DEDBDC",height:"65vh",width:"55vw"},Object(wt.a)(n,e.breakpoints.down("md"),{width:"94vw",height:"69.5vh"}),Object(wt.a)(n,e.breakpoints.down("sm"),{marginTop:"10%"}),n),header:{display:"inline",justifyContent:"center",backgroundColor:"#edeaea",width:"100%"},headAvatar:{color:"#333333",cursor:"pointer"},headAvatarContainer:{height:46,margin:e.spacing(1.6),display:"flex",flexDirection:"row",float:"right"},logo:{marginRight:"5px",float:"left",cursor:"pointer",display:"inline-block"},headerText:{height:46,position:"relative",margin:e.spacing(1.5),display:"flex",flexDirection:"row",float:"left"},shareIcon:{cursor:"pointer",float:"left",display:"inline-block"},members:{height:"60px"},bottomNav:{bottom:0,left:0,right:0,position:"absolute"},button:Object(wt.a)({background:"linear-gradient(45deg, #545454 30%, #333333 90%)",border:0,borderRadius:10,color:"#edeaea",height:45,fontWeight:"bolder",width:190,padding:"0 25px",margin:"20px 60px","&:hover":{boxShadow:"5px 5px 5px 0 rgba(0,0,0,.3)"}},e.breakpoints.down("sm"),{margin:20}),cardModeIcon:Object(wt.a)({width:"100px",height:"100px",cursor:"pointer"},e.breakpoints.down("sm"),{width:"65px",height:"65px"}),cardMode:Object(wt.a)({display:"inline-block",position:"relative",minHeight:"200px",maxHeight:"250px",minWidth:"200px",maxWidth:"250px","&:hover":{boxShadow:"5px 5px 5px 0 rgba(0,0,0,.3)"},fontWeight:"bolder",borderRadius:"1em",margin:"5%",cursor:"pointer"},e.breakpoints.down("sm"),{minHeight:"150px",maxHeight:"200px",minWidth:"150px",maxWidth:"200px"}),cardModeContent:Object(wt.a)({marginTop:"15%"},e.breakpoints.down("sm"),{fontSize:"1rem"}),modeContainer:Object(wt.a)({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",position:"fixed",overflowX:"auto",height:"90vh",width:"100%"},e.breakpoints.down("sm"),{flexDirection:"column"}),speedDial:{height:"90vh",position:"absolute",bottom:e.spacing(3),right:e.spacing(1)},speedDialIcon:{background:"linear-gradient(45deg, #545454 30%, #333333 90%)"},slider:Object(wt.a)({position:"absolute",width:"35vw",alignItems:"center",bottom:"1%",right:"30%"},e.breakpoints.down("sm"),{alignItems:"left",left:"10%"}),inputName:{color:"white",borderColor:"#edeaea"},undoRedo:{display:"inline",backgroundColor:"#FFFFFF",alignItems:"left",position:"absolute",bottom:e.spacing(4),borderRadius:25,width:100,boxShadow:"2px 2px 2px 0 rgba(0,0,0,.3)",right:e.spacing(11)},bottomButton:{background:"linear-gradient(45deg, #545454 30%, #333333 90%)",color:"white",fontWeight:"bolder",width:"100%",height:"55px"},loader:{color:"#333333"},loaderContainer:{backgroundColor:"#edeaea",alignItems:"center",justifyContent:"center",height:"100vh",width:"100vw",display:"flex",flexDirection:"column"},checkBoxArea:{borderRadius:"1em 0em 0em 0em",position:"relative",height:40,padding:"0px 10px 0px 10px",color:"#edeaea",float:"right",backgroundColor:"#545454",borderBottom:"0.5px solid #edeaea"},checkBox:{position:"relative"},quesSend:{display:"flex",flexDirection:"collumn",alignItems:"center",backgroundColor:"#545454",position:"relative",width:"100%"},inputQues:{width:"95%",color:"white",justifyContent:"center",overflowX:"hidden",maxHeight:"30vh",padding:"0.5em"},cardHead:{borderBottom:"1px solid #edeaea"},cardContainer:{overflowX:"hidden",padding:"0.5em",marginBottom:15,borderRadius:"1em"},appBar:{textAlign:"right",position:"sticky",display:"inline",justifyContent:"center",backgroundColor:"#edeaea",width:"100%"},name:{display:"inline-block",color:"#333333",margin:"14px 0px 17px 0px",width:"80vw"},canvas:{bottom:0,backgroundColor:"#FFFFFF",display:"block",overflow:"auto"},appBarButton:{margin:"10px",color:"#333333",float:"right"},homeLogo:{marginRight:38},roomButtonContainer:(a={width:"50%",justifyContent:"center",textAlign:"left",position:"absolute"},Object(wt.a)(a,e.breakpoints.down("sm"),{width:"83%",textAlign:"center"}),Object(wt.a)(a,e.breakpoints.down("xs"),{marginBottom:"2%"}),a),appBarText:Object(wt.a)({margin:"0 12px",cursor:"pointer",color:"#848484","&:hover":{color:"#edeaea"}},e.breakpoints.down("sm"),{display:"none"}),redirectButton:{borderRadius:"25em",padding:"10px 40px",marginTop:"3em",color:"#edeaea",background:"linear-gradient(45deg, #545454 30%, #333333 90%)"},container:Object(wt.a)({padding:"7em 0"},e.breakpoints.down("sm"),{padding:"5em 0"}),introMode:Object(wt.a)({margin:"4%",display:"flex",flexDirection:"row"},e.breakpoints.down("md"),{flexDirection:"column",margin:0}),introModeChild:(r={margin:"5%",marginTop:"10%",width:"35%"},Object(wt.a)(r,e.breakpoints.down("sm"),{width:"93vw",margin:"auto"}),Object(wt.a)(r,e.breakpoints.down("md"),{marginTop:"5%",width:"85vw"}),r),modeDemo:(o={width:"45vw",float:"right",borderRadius:"1em"},Object(wt.a)(o,e.breakpoints.down("md"),{width:"90vw",float:"none"}),Object(wt.a)(o,e.breakpoints.down("sm"),{width:"85vw",float:"none"}),o),headingText:Object(wt.a)({color:"#535353",fontWeight:"bold",textAlign:"left"},e.breakpoints.down("sm"),{textAlign:"center"}),featureContainer:{position:"relative",padding:10,background:"#DEDBDC"},menuButton:Object(wt.a)({display:"none",color:"#edeaea"},e.breakpoints.down("sm"),{display:"inline"}),divider:Object(wt.a)({color:"#edeaea"},e.breakpoints.down("sm"),{display:"none"}),aboutContainer:{color:"#edeaea",bottom:0,width:"100vw",flewGrow:1,left:0,background:"#333333"},about:{padding:"2em"},alert:{position:"relative",margin:15,zIndex:1e3,boxShadow:"5px 5px 5px 0 rgba(0,0,0,.3)",borderRadius:"1em"},authenticationTextField:Object(wt.a)({width:"40vw"},e.breakpoints.down("sm"),{width:"70vw"})}};function It(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var xt=function(e){Object(l.a)(n,e);var t=It(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleDialogClickOpen=function(e){a.setState({changeNameAlert:e.currentTarget,isDialogOpen:!0})},a.handleDialogClose=function(){a.setState({changeNameAlert:null,isDialogOpen:!1})},a.handleClickOpen=function(e){a.setState({alert:e.currentTarget,open:!0})},a.handleClose=function(){a.setState({alert:null,open:!1})},a.userNameFirstLetterGetter=function(e){return e.charAt(0).toUpperCase()},a.createRoom=function(e){" "===e?a.props.history.push("/register"):a.props.createRoom(e)},a.handleChange=function(e){var t=e.target.value;a.setState({query:t.trimLeft()})},a.keyPress=function(e){var t=e.target.value;13===e.keyCode&&t&&(a.getName(t.trimRight()),a.handleDialogClose())},a.state={query:"",alert:null,changeNameAlert:null,isDialogOpen:!1,open:!1},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){document.title="Meetings - Host better meetings",null===N.a.get("userEmail")&&" "===this.props.fullName&&this.props.history.push("/register")}},{key:"joinRoom",value:function(){this.props.history.push("/join")}},{key:"getName",value:function(e){e&&(this.props.RegisterUserName(e),this.setState({query:""}))}},{key:"logout",value:function(){this.props.logout()}},{key:"renderTextField",value:function(){var e=this.props,t=e.classes,n=e.fullName,a=this.userNameFirstLetterGetter(n);return r.a.createElement("div",{className:t.headAvatarContainer},r.a.createElement(pe.a,{title:"Profile and setting",placement:"left"},r.a.createElement(he.a,{className:t.headAvatar,onClick:this.handleClickOpen},a)))}},{key:"renderLogoutButton",value:function(){var e=this,t=this.props,n=t.isLoggedin,a=t.classes,o="Log out",i=function(){return e.logout()};return n||(o="Register for Meetings",i=function(){return e.props.history.push("/signup")}),r.a.createElement(fe.a,{button:!0,className:a.members,onClick:i},r.a.createElement(ge.a,{primary:o}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.fullName,o=t.userName,i=t.room_joined,s=this.state,c=s.alert,l=s.query,u=s.open,d=s.isDialogOpen;return r.a.createElement("div",{className:n.root,style:{position:"absolute"}},r.a.createElement("div",{className:n.appBar},r.a.createElement("div",{className:n.header},r.a.createElement("div",{className:n.headerText},r.a.createElement(pe.a,{title:"Home",arrow:!0},r.a.createElement("img",{style:{cursor:"pointer",objectFit:"contain"},onClick:function(){e.props.history.push("/")},src:"/meetings/logo1.png",alt:"logo",width:"47px"})))," "===a?null:r.a.createElement("div",null,this.renderTextField()))),r.a.createElement(Ee.a,{in:!0,timeout:1e3},r.a.createElement("div",{className:n.introMode},r.a.createElement("div",{className:n.introModeChild},r.a.createElement("h1",{className:n.headingText},"Host better meetings"),r.a.createElement(ye.a,{variant:"subtitle2",className:n.Typography,paragraph:!0},"Meetings is a free platform that helps to boost the productivity of both online and offline meetings"),r.a.createElement("br",null),r.a.createElement("div",{className:n.roomButtonContainer},r.a.createElement(ve.a,{className:n.button,style:{margin:0},onClick:function(){return e.createRoom(o)}},"Create Room"),r.a.createElement("span",{className:n.clashes},"/"),r.a.createElement(ve.a,{variant:"text",onClick:function(){return e.joinRoom()}},"Join"))),r.a.createElement("br",null),r.a.createElement("div",{className:n.roomJoinedContainer},r.a.createElement("h3",{className:n.headingText},"Recent joined rooms"),0===i.length?r.a.createElement(ye.a,{className:n.Typography},"Create or join a room to filled this section !"):r.a.createElement("div",null,i.map(function(t,a){return r.a.createElement("div",{key:a,className:n.cardContainer},r.a.createElement(be.a,{variant:"outlined",className:n.card},r.a.createElement(Oe.a,{className:n.cardHead,subheader:t,action:r.a.createElement(pe.a,{title:"Join this room",placement:"left"},r.a.createElement(Ne.a,{onClick:function(){return e.props.history.push("/room/".concat(t))}},r.a.createElement(Ie.a,null)))})),r.a.createElement("span",{className:n.breaker}))}))))),r.a.createElement(Se.a,{open:d,onClose:this.handleDialogClose,PaperProps:{style:{backgroundColor:"#333333"}}},r.a.createElement(Ce.a,{style:{color:"#edeaea"}}," Change your name into..."),r.a.createElement(Re.a,null,r.a.createElement(_e.a,{onChange:this.handleChange,onKeyDown:this.keyPress,autoFocus:!0,id:"name",placeholder:a,value:l,variant:"standard",InputProps:{disableUnderline:!0,className:n.inputName},fullWidth:!0})),r.a.createElement(ke.a,null,r.a.createElement(ve.a,{style:{fontWeight:"bolder"},onClick:function(){e.handleDialogClose(),e.getName(l.trimRight())},color:"secondary",disabled:""===l},"Apply"),r.a.createElement(ve.a,{onClick:function(){e.handleDialogClose()},color:"secondary"},"Cancel"))),r.a.createElement(we.a,{anchorEl:c,open:u,onClose:this.handleClose,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},PaperProps:{style:{marginTop:"1%",width:"250px",backgroundColor:"#F9F9F9"}}},r.a.createElement("div",null,r.a.createElement(fe.a,{className:n.members},r.a.createElement(ge.a,{primary:a})),r.a.createElement(je.a,null),r.a.createElement(fe.a,{button:!0,className:n.members,onClick:this.handleDialogClickOpen},r.a.createElement(ge.a,{primary:"Change your name"})))))}}]),n}(r.a.Component),Dt=Object(p.f)(Object(f.b)(function(e){return{fullName:e.user.fullName,isLoggedin:e.user.isLoggedin,userName:e.user.userName,room_joined:e.user.room_joined}},function(e,t){return{createRoom:function(t){e(function(e){return function(t){se()("".concat(ce,"/createroom"),{method:"POST",data:{userName:e}}).then(function(e){t({type:xe,payload:e}),t(b("/room/".concat(e.data.roomid)))}).catch(function(e){console.error(e)})}}(t))},RegisterUserName:function(t){e(ue(t))},logout:function(){e(function(e){e({type:Q}),N.a.remove("accessToken"),N.a.remove("refreshToken"),N.a.remove("exp"),e(b("/"))})}}})(Object(me.a)(jt)(xt))),At=n(89),Tt=void 0,Mt="CONNECTION_CONFIRMED",Lt="CONNCECTION_FAILED",Ft="CONNECTION_DISCONNECTED",Bt="NEW_RAISE",Ut="DONE_TALKING",Pt="ADD_MEMBERS",qt="REMOVE_MEMBERS",Gt="QUESTION_NEW",Ht="QUESTION_ASKED",Wt="QUESTION_REMOVED",Qt="CHANGING_MODE",Vt="DRAWING",Kt="BOARD_SAVED",Jt="BOARD_CLEARED",zt="UNDO",Yt="REDO",Xt="MESSAGE_MESSAGE",$t={CONNECT_TO_ROOM:"connecttoroom",SEND_QUESTION:"sendquestion",DELETE_QUESTION:"deletequestion",CHANGE_MODE:"changemode",RAISE_HAND:"raisehand",SAVE_BOARD:"saveboard",CLEAR_BOARD:"clearboard",UNDO_LINE:"undoline",REDO_LINE:"redoline",MESSAGE:"sentemoji",TALKING_FINISHED:"talkingfinished",DRAWING_DETECTED:"drawingdetected"};function Zt(e,t,n){return function(a,r){a({type:De}),a(function(e){return function(t){t({type:T}),t({type:M,payload:e})}}(e)),an(e,t,n,a)}}function en(e){return Tt&&Tt.close(),{type:Ae,message:e}}function tn(e,t){return function(n){n({type:ut,userName:e,roomId:t}),n(function(e){return function(t){t({type:dt}),se()("".concat(ce,"/getmembers/").concat(e),{method:"GET"}).then(function(e){t({type:mt,payload:e.data})}).catch(function(e){t({type:pt,payload:e})})}}(t))}}function nn(e,t,n){return function(a){Tt&&(Tt.send(JSON.stringify({action:$t.CHANGE_MODE,roomId:e,adminName:n,modeName:t})),a({type:ft,payload:{action:$t.CHANGE_MODE,roomId:e,adminName:n,modeName:t}}))}}var an=function(e,t,n,a){Tt&&Tt.close(),(Tt=new WebSocket("wss://41imu4ptaj.execute-api.us-east-1.amazonaws.com/dev")).onopen=function(a){Tt.send(JSON.stringify({action:$t.CONNECT_TO_ROOM,roomId:e,userName:t,fullName:n}))},Tt.onmessage=function(t){var n,r=JSON.parse(t.data),o=r.action,i=r.data;switch(o){case Xt:a(function(e,t){return console.log(t),function(n){n({type:yt,roomId:e,content:t})}}(e,i));break;case Mt:a(function(e,t,n){return function(a){a({type:Te,roomId:e,isAdmin:t,modeName:n}),a(_t(e)),a(Rt(e)),a(kt(e))}}(e,i.is_admin,i.current_mode));break;case Lt:a(b("/join"));break;case Ft:a(en(i));break;case Bt:a(function(e,t){return function(n){n({type:Be,roomId:e,userName:t})}}(i.roomId,i.queue));break;case Ut:a(function(e,t){return function(n){n({type:He,roomId:e,userName:t})}}(i.roomId,i.userName));break;case Gt:a(function(e,t){return function(n){n({type:Qe,roomId:e,question:t})}}(i.roomId,i.question));break;case Ht:a((n=i.question_id.question_id,function(e){e({type:R}),e({type:_,payload:n})}));break;case Wt:a(function(e,t){return function(n){n({type:Ye,roomId:e,question_id:t})}}(i.roomId,i.question_id));break;case Qt:a(function(e,t){return function(n){n({type:gt,roomId:e,modeName:t}),"QandA"===t?n(Rt(e)):"MeetingQueue"===t?n(_t(e)):"WhiteBoard"===t&&n(kt(e))}}(i.roomId,i.mode));break;case Pt:a(tn(i.userName,i.roomId));break;case qt:a(function(e,t){return function(n){n({type:ht,roomId:e,userName:t})}}(i.roomId,i.userName));break;case Vt:a(function(e,t){return function(n){n({type:et,roomId:e,lines:t})}}(i.roomId,i.lines));break;case Kt:a(function(e,t){return function(n){n({type:Xe,payload:{roomId:e,lines:t}})}}(i.roomId,i.lines));break;case Jt:a(function(e,t){return function(n){n({type:ot,roomId:e,lines:t})}}(i.roomId,i.lines));break;case zt:a(function(e,t){return function(n){n({type:st,roomId:e,lines:t})}}(i.roomId,i.lines));break;case Yt:a(function(e,t){return function(n){n({type:lt,roomId:e,lines:t})}}(i.roomId,i.lines))}},Tt.onclose=function(e){var t;a(en({eventCode:e.code,eventReason:e.reason})),e.wasClean&&1001===e.code&&(Tt=void 0,a((t=e.reason,function(e){e({type:Le,message:t})})))},Tt.onerror=function(t){console.log(t),a(function(e,t){return{type:Me,roomId:e,error:t}}(e,t))}},rn=n(551),on=n(226),sn=n(9),cn=n(535),ln=n(532),un=n(212),dn=Object(cn.a)(jt);var mn=Object(f.b)(function(e){return{roomId:e.room.roomId,userName:e.user.userName}},function(e,t){return{sendMessage:function(t,n,a){e(function(e,t,n){return function(a){Tt&&Tt.send(JSON.stringify({action:$t.MESSAGE,roomId:e,sender:t,message:n})),a({type:Et,roomId:e,sender:t,message:n})}}(t,n,a))}}})(function(e){var t=Object(a.useState)(["\ud83d\udc4d","\ud83d\udc4e","\u23ea","\u23e9","\ud83e\udd14","\ud83e\udd71"]),n=Object(sn.a)(t,1)[0],o=dn(),i=e.roomId,s=e.userName,c=function(){return(new un.AvatarGenerator).generateRandomAvatar()},l=function(t,n,a){e.sendMessage(t,n,a)};return r.a.createElement("div",{style:{height:"100%",position:"relative",display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",paddingTop:"1em"}},r.a.createElement(fe.a,{className:o.topDrawer},r.a.createElement("div",null,r.a.createElement("span",{style:{fontSize:"2em"}},r.a.createElement("b",null,r.a.createElement("u",null,"Group Members"))),r.a.createElement("br",null),'Or "Nearby Attendees" or some similar thing...')),r.a.createElement("div",null,r.a.createElement(fe.a,{className:o.topDrawer},r.a.createElement(he.a,{src:c()}),r.a.createElement(ge.a,{primary:"Person A",style:{paddingLeft:"10px"}})),r.a.createElement(fe.a,{className:o.topDrawer},r.a.createElement(he.a,{src:c()},"B"),r.a.createElement(ge.a,{primary:"Person B",style:{paddingLeft:"10px"}})),r.a.createElement(fe.a,{className:o.topDrawer},r.a.createElement(he.a,{src:c()},"C"),r.a.createElement(ge.a,{primary:"Person C",style:{paddingLeft:"10px"}})))),r.a.createElement("hr",null),r.a.createElement(ln.a,null,r.a.createElement(fe.a,{divider:!0,className:o.topDrawer,style:{display:"flex"}},r.a.createElement(ve.a,{variant:"contained",color:"primary",style:{width:"50%"}},"Create Group"),r.a.createElement(ve.a,{variant:"contained",color:"primary",style:{width:"50%",marginLeft:"5px"}},"Switch Group")),r.a.createElement(fe.a,{divider:!0,className:o.topDrawer,style:{display:"flex"}},r.a.createElement(ve.a,{variant:"contained",color:"secondary",style:{width:"100%"}},"Leave Group")),r.a.createElement(fe.a,{className:o.topDrawer,style:{justifyContent:"center"}},r.a.createElement("b",null,"Your Group ID: <GROUP_ID>"))),r.a.createElement("hr",null),r.a.createElement("div",{className:o.bottomNav},r.a.createElement("h2",null,"Reaction"),r.a.createElement(ln.a,null,n.map(function(e,t){return r.a.createElement(ve.a,{key:t,onClick:function(){return l(i,s,e)},style:{fontSize:25}},e)})),r.a.createElement(ve.a,{onClick:function(){return l(i,s,"\u2764\ufe0f")},style:{width:"100%",fontSize:25}},"\u2764\ufe0f")))}),pn=n(11),hn=n.n(pn),fn=n(19),gn=n(537),En=n(561),yn=n(536),vn=n(538),bn=n(1),On=(n(475),n(340));function Nn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sn(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function Sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Cn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var Rn=function(e){Object(l.a)(n,e);var t=Cn(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).loadTheModel=Object(fn.a)(hn.a.mark(function e(){var t,n;return hn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.threshold,e.next=3,bn.td("webgl");case 3:return e.next=5,bn.od();case 5:return e.next=7,On.a(t);case 7:n=e.sent,a.setState({model:n});case 9:case"end":return e.stop()}},e)})),a.identifySimilarity=function(e){var t,n=new Map,r=Nn(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=o.question.question.split(" ");console.log(i);var s,c=Nn(i);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(n.has(l)){var u=Object(S.a)(n.get(l));u.push(o),n.set(l,u)}else n.set(l,[o])}}catch(d){c.e(d)}finally{c.f()}}}catch(d){r.e(d)}finally{r.f()}a.setState({filterQuestions:n.values()}),console.log(n)},a.identifyToxic=function(){var e=Object(fn.a)(hn.a.mark(function e(t){var n,r;return hn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.model,r=!1,e.next=4,n.classify([t]).then(function(e){e.forEach(function(e){!0===e.results[0].match?(r=!0,a.setState({alert:!0}),setTimeout(function(){return a.handleClose()},4e3)):(r=!1,a.setState({alert:!1}))})});case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getQuestionsAskedbyId=function(e){a.props.getQuestionsAskedbyId(e)},a.userNameFirstLetterGetter=function(e){return e.charAt(0).toUpperCase()},a.handleChange=function(e){var t=e.target.value;a.setState({query:t})},a.handleCheck=function(e){a.setState({checked:e.target.checked})},a.handleClose=function(){a.setState({alert:!1})},a.handleKeyPress=function(e){var t=a.props.match.params.roomId,n=a.props.userName,r=e.target.value;13===e.keyCode&&e.ctrlKey&&r&&a.askQuestion(t,r,n)},a.askQuestion=function(){var e=Object(fn.a)(hn.a.mark(function e(t,n){var r,o,i,s,c,l;return hn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="Anonymous",o=a.state,i=o.checked,s=o.query,c={question:n,userName:a.props.userName,fullName:a.props.fullName},e.next=5,a.identifyToxic(s);case 5:l=e.sent,s&&(l||(i?(c.fullName=r,a.props.addQuestion(t,c)):a.props.addQuestion(t,c),a.setState({query:""})));case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),a.getNewAvatar=function(e){var t=new un.AvatarGenerator;return"Anonymous"===e?t.generateRandomAvatar():null},a.deleteQuestion=Object(At.throttle)(function(e,t){a.props.removeQuestion(e,t)},500,{trailing:!1}),a.state={query:"",checked:!0,threshold:.7,model:null,filterQuestions:e.questions,sentenceEncoderModel:null,alert:!1},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=Object(fn.a)(hn.a.mark(function e(){return hn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadTheModel();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){e.questions!==this.props.questions&&(console.log(e.questions),this.identifySimilarity(this.props.questions))}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.questions,o=t.is_admin,i=t.questionsAsked,s=this.state,c=s.query,l=s.checked,u=s.alert,d=(s.filterQuestions,this.props.match.params.roomId);return r.a.createElement("div",{style:{height:"50%"}},r.a.createElement("div",{className:n.mappingItemContainer},r.a.createElement("div",null,0===a.length?r.a.createElement("h1",null,"Raise any question to your room!"):a.map(function(t,a){return r.a.createElement("div",{className:n.cardContainer,key:a},r.a.createElement(be.a,{variant:"outlined",className:n.card},r.a.createElement(Oe.a,{className:n.cardHead,avatar:r.a.createElement(he.a,{className:n.avatar,src:e.getNewAvatar(t.question.fullName)},e.userNameFirstLetterGetter(t.question.fullName)),title:t.question.fullName,subheader:"",action:o||i.find(function(e){return e===t.question_id})?r.a.createElement(pe.a,{title:"Delete question",placement:"left"},r.a.createElement(Ne.a,{onClick:function(){return e.deleteQuestion(d,t.question_id)}},r.a.createElement(yn.a,null))):null}),r.a.createElement(gn.a,{style:{width:"100%"}},r.a.createElement(ye.a,{variant:"body1",style:{whiteSpace:"pre-line"}},t.question.question))))}))),r.a.createElement("div",null,r.a.createElement("div",{className:n.checkBoxArea},r.a.createElement("div",{className:n.checkBox},r.a.createElement(En.a,{checked:l,onChange:this.handleCheck,color:"default",style:{color:"#edeaea"}}),r.a.createElement(ye.a,{variant:"body2",paragraph:!0,style:{display:"inline-block"}},"Anonymously"))),r.a.createElement("div",{className:n.quesSend},r.a.createElement(_e.a,{className:n.inputQues,value:c,onChange:this.handleChange,variant:"standard",InputProps:{disableUnderline:!0,className:n.inputQues},placeholder:"Type in question here",multiline:!0,onKeyDown:this.handleKeyPress}),r.a.createElement(vn.a,{onClick:function(){e.askQuestion(d,c)},style:{position:"absolute",right:15,top:"25%",width:25,height:25,color:"#edeaea",cursor:"pointer"}}))),r.a.createElement(Se.a,{open:u,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",PaperProps:{style:{backgroundColor:"#333333"}}},r.a.createElement(Ce.a,{style:{color:"#edeaea"}},"Please respect each other in a meeting."),r.a.createElement(ke.a,null,r.a.createElement(ve.a,{onClick:this.handleClose,color:"secondary"},"Agree"))))}}]),n}(r.a.Component),_n=Object(p.f)(Object(f.b)(function(e){return{connectionStatus:e.room.connectionStatus,roomId:e.room.roomId,questions:e.room.questions,userName:e.user.userName,fullName:e.user.fullName,questionsAsked:e.user.questionsAsked,is_admin:e.room.is_admin,members:e.room.members}},function(e,t){return{addQuestion:function(t,n){return e(function(e,t){return function(n){Tt&&(Tt.send(JSON.stringify({action:$t.SEND_QUESTION,roomId:e,question:t})),n({type:We,payload:{action:$t.SEND_QUESTION,roomId:e,question:t}}))}}(t,n))},removeQuestion:function(t,n){return e(function(e,t){return function(n){Tt&&(Tt.send(JSON.stringify({action:$t.DELETE_QUESTION,roomId:e,question_id:t})),n({type:ze,payload:{action:$t.DELETE_QUESTION,roomId:e,question_id:t}}))}}(t,n))}}})(Object(me.a)(jt)(Rn))),kn=n(150),wn=n(539),jn=n(540),In=n(335),xn=n.n(In),Dn=n(336),An=n.n(Dn),Tn=function(e){var t=Object(a.useState)(!1),n=Object(sn.a)(t,2),o=n[0],i=n[1];return r.a.createElement(be.a,Object.assign({variant:"outlined"},o&&{style:{backgroundColor:"#c4f2f2"}}),r.a.createElement(fe.a,null,r.a.createElement(wn.a,null,r.a.createElement(he.a,{className:e.classes.avatar},e.userNameFirstLetter)),r.a.createElement(ge.a,{primary:e.userName,secondary:o?"Speaking":" "}),r.a.createElement(jn.a,null,r.a.createElement(Ne.a,{edge:"end","aria-label":"delete",onClick:function(){return i(function(e){return!e})}},o?r.a.createElement(pe.a,{title:"Press to mute"},r.a.createElement(xn.a,null)):r.a.createElement(pe.a,{title:"Press to unmute"},r.a.createElement(An.a,null))))))};function Mn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var Ln=function(e){Object(l.a)(n,e);var t=Mn(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).raise=Object(At.throttle)(function(e,t){var n={userName:t,fullName:a.props.fullName};a.props.raiseHand(e,n)},1e3,{trailing:!1}),a.finishTalking=Object(At.throttle)(function(e,t){a.props.doneTalking(e,t)},1e3,{trailing:!1}),a.userNameFirstLetterGetter=function(e){return e.charAt(0).toUpperCase()},a.renderButton=function(){var e=a.props,t=e.classes,n=e.userName,o=e.queue,i=a.props.match.params.roomId,s="Raise hand to speak!",c=function(){return a.raise(i,n)};return o[0]&&o[0].userName===n?(c=function(){return a.finishTalking(i,n)},s="Done"):o.find(function(e){return e.userName===n})&&(c=function(){},s="Wait for your turn..."),r.a.createElement(ve.a,{disabled:"Wait for your turn..."===s,className:t.bottomButton,onClick:c},s)},a.raise=a.raise.bind(Object(kn.a)(a)),a}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.queue;return r.a.createElement("div",{style:{position:"relative",height:"50%"}},r.a.createElement("div",{className:n.mappingItemContainer},r.a.createElement("h1",null,"Speak in Queue"),Array.isArray(a)&&a.length>0&&r.a.createElement(ln.a,null,a.map(function(t,a){return r.a.createElement(Tn,{classes:n,key:a,userName:t.fullName,userNameFirstLetter:e.userNameFirstLetterGetter(t.fullName)})}))),r.a.createElement("div",{className:n.bottomNav},r.a.createElement("div",null,this.renderButton())))}}]),n}(r.a.Component),Fn=Object(p.f)(Object(f.b)(function(e){return{connectionStatus:e.room.connectionStatus,roomId:e.room.roomId,queue:e.room.queue,userName:e.user.userName,fullName:e.user.fullName,members:e.room.members,isAdmin:e.room.isAdmin}},function(e,t){return{raiseHand:function(t,n){e(function(e,t){return function(n){Tt&&(Tt.send(JSON.stringify({action:$t.RAISE_HAND,roomId:e,userName:t})),n({type:Fe,payload:{action:$t.RAISE_HAND,roomId:e,userName:t}}))}}(t,n))},doneTalking:function(t,n){e(function(e,t){return function(n){Tt&&(Tt.send(JSON.stringify({action:$t.TALKING_FINISHED,roomId:e,userName:t})),n({type:Ge,payload:{action:$t.TALKING_FINISHED,roomId:e,userName:t}}))}}(t,n))}}})(Object(me.a)(jt)(Ln))),Bn=function(){return r.a.createElement(a.Fragment,null,r.a.createElement(_n,null),r.a.createElement(Fn,null))},Un=n(134);function Pn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var qn=function(e){Object(l.a)(n,e);var t=Pn(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.renderPortal()}},{key:"componentDidUpdate",value:function(e){this.renderPortal()}},{key:"componentWillUnmount",value:function(){i.a.unmountComponentAtNode(this.defaultNode||this.props.node),this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"renderPortal",value:function(e){this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode));var t=this.props.children;"function"===typeof t.type&&(t=r.a.cloneElement(t)),i.a.render(t,this.props.node||this.defaultNode)}},{key:"render",value:function(){return null}}]),n}(r.a.Component),Gn=n(563),Hn=n(565),Wn=n(566),Qn=n(548),Vn=n(541),Kn=n(542),Jn=n(543),zn=n(544),Yn=n(545),Xn=n(546),$n=n(547),Zn=n(549),ea=n(550);function ta(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var na=function(e){Object(l.a)(n,e);var t=ta(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).changingBrushMode=function(e){a.setState({mode:e,show:"move"!==e})},a.handleClickOpen=function(){a.setState({alert:!0})},a.handleClickClose=function(){a.setState({alert:!1})},a.handleOpen=function(){a.state.open?a.setState({open:!1}):a.setState({open:!0})},a.saveBoard=Object(At.throttle)(function(e,t){a.props.is_admin&&a.props.saveBoard(e,t)},1e3,{trailing:!1}),a.clearBoard=Object(At.throttle)(function(e){a.props.clearBoard(e),a.saveBoard(e,[]),a.setState({locaLine:[]})},1e3,{trailing:!1}),a.drawingLines=function(e,t){a.props.drawing(e,t)},a.handleSliderChange=function(e,t){"eraser"===a.state.mode?a.setState({eraserThicknessValue:t}):a.setState({brushThicknessValue:t})},a.getRelativePointerPosition=function(e){var t=e.getAbsoluteTransform().copy();t.invert();var n=e.getStage().getPointerPosition();return t.point(n)},a.getCurrentPosition=function(){var e=a.stageRef.getStage(),t=a.getRelativePointerPosition(e),n=e.container().getBoundingClientRect();a.setState({areaPosition:{x:t.x+n.left,y:t.y+n.top-50}})},a.handleKeyPress=function(e){(e.metaKey||e.ctrlKey)&&("y"===e.key&&a.handleRedo(),"z"===e.key&&a.handleUndo()),"Escape"===e.key&&a.changingBrushMode("default")},a.limitUserLineData=function(e){var t=a.state,n=t.userLine,r=t.undo,o=t.redo;n.length>=e&&a.setState({userLine:n.splice(0,3),undo:r.splice(0,3),redo:o.splice(0,3)})},a.handleTextDrawing=function(e){if("Text"!==e.target){var t=a.state,n=t.mode,r=t.userLine,o=t.localLine,i=t.areaPosition,s=r[r.length-1];s&&"text"===s.mode&&0===s.text.length&&a.setState({userLine:r.splice(-1,1),localLine:o.splice(-1,1)}),a.setState({userLine:[].concat(Object(S.a)(r),[{mode:n,text:"",position:i,isSelected:!1}]),localLine:[].concat(Object(S.a)(o),[{mode:n,text:"",position:i,isSelected:!1}])})}else console.log("test")},a.handleTextDrawingChange=function(e){var t=e.target.value;a.setState({tempTextValue:t})},a.handleTextDrawingKeyPressed=function(e){var t=a.state,n=t.userLine,r=t.localLine,o=t.tempTextValue,i=a.props.match.params.roomId;if(13===e.keyCode||27===e.keyCode){var s=n[n.length-1];s.text=o,n.splice(n.length-1,1,s),r.splice(r.length-1,1,s),a.drawingLines(i,s),a.setState({tempTextValue:"",userLine:n,localLine:r})}},a.handleSelectText=function(e){var t=a.state.userLine,n=t[t.length-1];console.log(n),n.isSelected=!0,t.splice(t.length-1,1,n),a.setState({userLine:t}),console.log(n)},a.handleStartDrawing=function(e){var t,n=a.state,r=n.mode,o=n.brushThicknessValue,i=n.eraserThicknessValue,s=n.userLine,c=n.localLine;if(t="eraser"===r?i:o,a.limitUserLineData(10),"move"===r)return!1;"text"===r?a.handleTextDrawing(e):a.setState({drawing:!0,userLine:[].concat(Object(S.a)(s),[{mode:r,thickness:t,colour:"red",line:[]}]),localLine:[].concat(Object(S.a)(c),[{mode:r,colour:"red",thickness:t,line:[]}])})},a.handleStopDrawing=function(){var e=a.props.match.params.roomId,t=a.state,n=t.localLine,r=t.userLine,o=t.mode;if("text"!==o&&"move"!==o){var i=n[n.length-1];if(a.drawingLines(e,i),a.setState({drawing:!1}),i&&0===i.line.length&&r.length>0){var s=r;s.pop(r.length-1),a.setState({userLine:s})}}},a.handleDrawing=function(){var e=a.state,t=e.drawing,n=e.userLine,r=e.localLine,o=e.mode;if(t&&"text"!==o){var i=a.stageRef.getStage(),s=a.layerRef.getLayer(),c=a.getRelativePointerPosition(i),l=n[n.length-1];l.line=l.line.concat([Math.round(c.x),Math.round(c.y)]),n.splice(n.length-1,1,l),r.splice(r.length-1,1,l),a.setState({userLine:n,localLine:r}),s.batchDraw()}},a.undo=function(e,t){a.props.undo(e,t)},a.redo=function(e,t){a.props.redo(e,t)},a.handleUndo=function(){var e=a.state,t=e.userLine,n=e.undo,r=e.redo;if(0!==t.length){var o=t[t.length-1];t.pop(o),n.push(o),r.pop(o),a.setState({userLine:t,undo:n,redo:r});var i=a.props.match.params.roomId,s=n[n.length-1];a.undo(i,s)}},a.handleRedo=function(){var e=a.state,t=e.redo,n=e.undo,r=e.userLine;if(r.length>=0&&n.length>0){var o=n[n.length-1];r.push(o),n.pop(o),t.push(o),a.setState({undo:n,redo:t,userLine:r});var i=a.props.match.params.roomId,s=t[t.length-1];a.redo(i,s)}},a.checkSize=function(){a.state.size;var e=a.container.offsetWidth,t=window.innerHeight-300;a.setState({size:{width:e,height:t}})},a.state={userLine:[],localLine:[],undo:[],redo:[],tempTextValue:"",size:{width:1e3,height:1e3},drawing:!1,alert:!1,open:!0,show:!1,brushThicknessValue:2,eraserThicknessValue:10,mode:"brush",areaPosition:{x:0,y:0},actions:[{icon:r.a.createElement(Vn.a,null),action:function(){return a.changingBrushMode("brush")},name:"Brush"},{icon:r.a.createElement(Kn.a,null),action:function(){return a.changingBrushMode("eraser")},name:"Eraser"},{icon:r.a.createElement(Jn.a,null),action:function(){return a.changingBrushMode("move")},name:"Move"},{icon:r.a.createElement(zn.a,null),action:function(){return a.changingBrushMode("text")},name:"Text"}]},a}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this;e.lines!==this.props.lines&&(this.setState({localLine:[]}),clearInterval(this.interval),this.interval=setInterval(function(){return n.saveBoard(n.props.match.params.roomId,n.props.lines)},18e4))}},{key:"componentDidMount",value:function(){this.handleRenderSpeedial(),this.checkSize(),window.addEventListener("resize",this.checkSize)}},{key:"handleRenderSpeedial",value:function(){var e=this,t=this.props.is_admin,n=this.state.actions,a=this.props.match.params.roomId;t&&this.setState({actions:[].concat(Object(S.a)(n),[{icon:r.a.createElement(Yn.a,null),action:function(){e.saveBoard(a,e.props.lines)},name:"Save and broadcast"},{icon:r.a.createElement(Xn.a,null),action:function(){e.handleClickOpen()},name:"Clear Board"}])})}},{key:"handleRenderSlider",value:function(){var e=this.props.classes,t=this.state,n=t.brushThicknessValue,a=t.eraserThicknessValue,o=t.mode;return r.a.createElement("div",{className:e.slider},r.a.createElement(ye.a,{style:{textAlign:"left"},variant:"subtitle2"},"Thickness"),r.a.createElement(Gn.a,{style:{color:"#4A4A4A"},value:"eraser"===o?a:n,min:1,max:"eraser"===o?50:15,valueLabelDisplay:"auto",onChange:this.handleSliderChange}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.checkSize),clearInterval(this.interval)}},{key:"renderCursor",value:function(e){switch(e){case"brush":return"crosshair";case"move":return"move";case"text":return"text";default:return"default"}}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.lines,o=t.event,i=this.state,s=i.localLine,c=i.open,l=i.actions,u=i.show,d=i.mode,m=i.alert,p=i.size;return r.a.createElement("div",{tabIndex:1,onKeyDown:this.handleKeyPress,ref:function(t){e.container=t},style:{position:"relative"}},r.a.createElement(Se.a,{open:m,onClose:this.handleClickClose,PaperProps:{style:{backgroundColor:"#333333"}}},r.a.createElement(Ce.a,{style:{color:"#edeaea"}}," Are you sure you want to clear this board? This action cannot be undone"),r.a.createElement(ke.a,null,r.a.createElement(ve.a,{onClick:function(){e.handleClickClose(),e.clearBoard(e.props.match.params.roomId)},color:"secondary"},"Yes"),r.a.createElement(ve.a,{onClick:function(){e.handleClickClose()},color:"secondary",autoFocus:!0},"No"))),r.a.createElement(Un.Stage,{className:n.canvas,style:{cursor:this.renderCursor(d)},width:p.width,height:p.height,onContentTouchstart:this.handleStartDrawing,onContentTouchmove:this.handleDrawing,onContentTouchend:this.handleStopDrawing,onContextMenu:function(e){e.evt.preventDefault()},onMouseMove:this.getCurrentPosition,onContentMousedown:this.handleStartDrawing,onContentMousemove:this.handleDrawing,onContentMouseup:this.handleStopDrawing,draggable:"move"===d,ref:function(t){e.stageRef=t}},r.a.createElement(Un.Layer,{onDblClick:this.handleSelectText,ref:function(t){e.layerRef=t}},a.map(function(e,t){return"text"===e.mode?r.a.createElement(Un.Text,{text:e.text,x:e.position.x,key:t,y:e.position.y-50,fontSize:20}):r.a.createElement(Un.Line,{key:t,points:e.line,stroke:e.colour,strokeWidth:e.thickness,globalCompositeOperation:"eraser"===e.mode?"destination-out":"source-over"})}),s.map(function(t,n){return"text"===d&&"text"===t.mode&&0===t.text.length||t.isSelected?r.a.createElement(qn,{key:n+"portal"},r.a.createElement("textarea",{key:n,style:{position:"absolute",top:t.position.y+"px",left:t.position.x+"px",border:"0.1px dashed gray ",margin:"0px",padding:"0.3em 0.2em",overflow:"hidden",outline:"none",resize:"none",background:"none",fontSize:"20px"},defaultValue:t.text,placeholder:"Type something here",onChange:e.handleTextDrawingChange,onKeyDown:e.handleTextDrawingKeyPressed})):"text"===t.mode?r.a.createElement(Un.Text,{text:t.text,key:n,x:t.position.x,y:t.position.y-50,fontSize:20}):r.a.createElement(Un.Line,{key:n,points:t.line,stroke:"eraser"===d?"#dddddd":t.colour,strokeWidth:t.thickness})}))),r.a.createElement("div",null,"Going away"!==o?r.a.createElement(Hn.a,{ariaLabel:"Whiteboard Toolbar",className:n.speedDial,icon:r.a.createElement(Wn.a,{open:r.a.createElement($n.a,null)}),onClick:function(){return e.handleOpen()},open:c,direction:"up",FabProps:{className:n.speedDialIcon}},l.map(function(e){return r.a.createElement(Qn.a,{key:e.name,icon:e.icon,onClick:function(){return e.action()},tooltipTitle:e.name})})):null,r.a.createElement("div",{className:n.undoRedo},r.a.createElement(pe.a,{title:"Undo"},r.a.createElement(Ne.a,{style:{width:"50%",height:"50%"},onClick:function(){e.handleUndo()}},r.a.createElement(Zn.a,null))),r.a.createElement(pe.a,{title:"Redo"},r.a.createElement(Ne.a,{style:{width:"50%",height:"50%"},onClick:function(){e.handleRedo()}},r.a.createElement(ea.a,null)))),u?this.handleRenderSlider():null))}}]),n}(r.a.Component),aa=Object(p.f)(Object(f.b)(function(e){return{is_admin:e.room.is_admin,lines:e.room.lines,userName:e.user.userName,event:e.room.event}},function(e,t){return{drawing:function(t,n){return e(function(e,t){return function(n){Tt&&t&&(Tt.send(JSON.stringify({action:$t.DRAWING_DETECTED,roomId:e,lines:t})),n({type:Ze,payload:{action:$t.DRAWING_DETECTED,roomId:e,lines:t}}))}}(t,n))},saveBoard:function(t,n){e(function(e,t){return function(n){Tt&&(Tt.send(JSON.stringify({action:$t.SAVE_BOARD,roomId:e,lines:t})),n({type:$e,payload:{action:$t.SAVE_BOARD,roomId:e,lines:t}}))}}(t,n))},clearBoard:function(t){e(function(e){return function(t){Tt&&(Tt.send(JSON.stringify({action:$t.CLEAR_BOARD,roomId:e})),t({type:rt,payload:{action:$t.CLEAR_BOARD,roomId:e}}))}}(t))},undo:function(t,n){e(function(e,t){return function(n){Tt&&(Tt.send(JSON.stringify({action:$t.UNDO_LINE,roomId:e,lines:t})),n({type:it,payload:{action:$t.UNDO_LINE,roomId:e,lines:t}}))}}(t,n))},redo:function(t,n){e(function(e,t){return function(n){Tt&&(Tt.send(JSON.stringify({action:$t.REDO_LINE,roomId:e,lines:t})),n({type:ct,payload:{action:$t.REDO_LINE,roomId:e,lines:t}}))}}(t,n))}}})(Object(me.a)(jt)(na)));function ra(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var oa=function(e){Object(l.a)(n,e);var t=ra(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).tick=function(){var e=a.state.y;a.setState({y:e+1}),e>640&&a.setState({isOngoing:!1})},a.state={isOngoing:!0,x:0,y:0},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.setState({x:this.state.x+1}),setInterval(this.tick,10),console.log(this.props.emoji)}},{key:"render",value:function(){var e=this.state.isOngoing;return r.a.createElement(a.Fragment,null,e?r.a.createElement("div",{style:{zIndex:2e3,fontSize:"45px",position:"absolute",right:0,bottom:this.state.y}},this.props.emoji):null)}}]),n}(r.a.Component),ia=Object(f.b)(function(e){return{emojis:e.room.messages}})(function(e){var t=Object(a.useRef)(null);Object(a.useEffect)(function(){navigator.mediaDevices.getUserMedia({video:{width:300}}).then(function(e){var n=t.current;n.srcObject=e,n.play()}).catch(function(e){console.error("error:",e)})});var n=e.emojis;return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("div",{style:{height:"75vh"}},r.a.createElement(aa,null)),r.a.createElement("div",{style:{height:"20vh",width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",background:"black"}},r.a.createElement("video",{autoPlay:!0,muted:!0,style:{width:"25%",height:"90%"},src:"https://res.cloudinary.com/huukhang1512/video/upload/v1614820927/Meetings_-_Host_better_meetings_3_dxtxvv.mp4"}),r.a.createElement("video",{autoPlay:!0,muted:!0,style:{width:"25%",height:"90%"},src:"https://res.cloudinary.com/huukhang1512/video/upload/v1614820927/Meetings_-_Host_better_meetings_3_dxtxvv.mp4"}),r.a.createElement("video",{autoPlay:!0,muted:!0,style:{width:"25%",height:"90%"},src:"https://res.cloudinary.com/huukhang1512/video/upload/v1614820927/Meetings_-_Host_better_meetings_3_dxtxvv.mp4"}),r.a.createElement("video",{autoPlay:!0,muted:!0,style:{width:"25%",height:"90%",objectFit:"cover"},ref:t})),n.map(function(e,t){return r.a.createElement(oa,{emoji:e.content.message,key:t})}))});function sa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var ca=function(e){Object(l.a)(n,e);var t=sa(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).modeChange=Object(At.throttle)(function(e,t,n){a.props.changingMode(e,t,n)},1e3,{trailing:!1}),a.state={gridItems:[{id:1,name:"LeftPane",width:"15vw",height:"95vh",component:r.a.createElement(mn,null)},{id:2,width:"54vw",name:"MainPane",height:"95vh",component:r.a.createElement(ia,null)},{id:3,width:"29vw",name:"RightPane",height:"95vh",component:r.a.createElement(Bn,null)}]},a}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.emojis,a=this.state.gridItems;this.props.match.params.roomId;return r.a.createElement("div",{style:{width:"100vw",height:"100vh"}},r.a.createElement(rn.a,{container:!0,className:t.root},r.a.createElement(rn.a,{item:!0},r.a.createElement(rn.a,{container:!0,justify:"space-around"},a.map(function(e){return r.a.createElement(rn.a,{key:e.id,item:!0},r.a.createElement(on.a,{style:{width:e.width,height:e.height}},e.component))})))),r.a.createElement("div",{style:{position:"absolute"}},n.map(function(e,t){return r.a.createElement("div",{key:t},e.msg)})))}}]),n}(r.a.Component),la=Object(p.f)(Object(f.b)(function(e){return{roomId:e.room.roomId,emojis:e.room.messages,is_admin:e.room.is_admin,modeName:e.room.modeName,userName:e.user.userName}},function(e,t){return{changingMode:function(t,n,a){e(nn(t,n,a))}}})(Object(me.a)(jt)(ca))),ua=n(337),da=n(555),ma=n(564),pa=n(556),ha=n(559),fa=n(552),ga=n(553),Ea=n(554),ya=n(557);function va(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var ba=function(e){Object(l.a)(n,e);var t=va(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).authenticationHandler=function(){" "===a.props.userName&&a.props.history.push("/register")},a.modeChange=Object(At.throttle)(function(e,t,n){a.props.changingMode(e,t,n),a.setState({right:!1})},1e3,{trailing:!1}),a.userNameFirstLetterGetter=function(e){return e.charAt(0).toUpperCase()},a.share=function(){navigator.share?navigator.share({url:window.location.href}):a.renderAlert("share")},a.renderAlert=function(e){"share"===e?a.setState({alertMessage:"Please copy to clipboard"}):a.setState({alertMessage:"copied!"}),a.setState({open:!0},function(){setTimeout(function(){a.setState({open:!1})},2e3)})},a.renderShareButton=function(){var e=a.props.classes;return r.a.createElement("div",null,r.a.createElement(pe.a,{title:"Share",arrow:!0},r.a.createElement(Ne.a,{onClick:function(){a.share()}},r.a.createElement(fa.a,{className:e.shareIcon}))),r.a.createElement(pe.a,{title:"Copy URL to clipboard",arrow:!0},r.a.createElement(ua.CopyToClipboard,{text:window.location.href},r.a.createElement(Ne.a,{onClick:function(){a.renderAlert("copy")}},r.a.createElement(ga.a,null)))),r.a.createElement(pe.a,{title:"Close",arrow:!0},r.a.createElement(Ne.a,{onClick:a.toggleDrawer(!1,"right")},r.a.createElement(Ea.a,null))))},a.toggleDrawer=function(e,t){return function(n){("keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&("right"===t?a.setState({right:e}):a.setState({instruction:e}))}},a.handleClickOpen=function(){a.setState({alert:!0})},a.handleClose=function(){a.setState({alert:!1})},a.state={right:!1,instruction:!1,open:!1,alert:!1,isAway:!1,alertMessage:""},e.connectToRoom(a.props.match.params.roomId,a.props.userName,a.props.fullName),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.roomId;this.authenticationHandler(),document.title="Meetings - Room ".concat(e)}},{key:"componentDidUpdate",value:function(e){e.event!==this.props.event&&"Going away"===this.props.event&&this.setState({isAway:!0})}},{key:"componentWillUnmount",value:function(){var e=this.props.match.params.roomId;this.props.disconnectFromRoom(e)}},{key:"renderDrawerButton",value:function(){var e=this,t=this.props,n=t.classes,a=t.is_admin,o=t.modeName,i=t.userName,s=this.props.match.params.roomId,c="Default Mode";return"Default Mode"!==o&&(c="Default Mode"),r.a.createElement("div",null,a&&"Default Mode"!==o?r.a.createElement(fe.a,{button:!0,className:n.bottomDrawer,style:{justifyContent:"center"}},r.a.createElement(ge.a,{primary:"Change Mode",onClick:function(){e.modeChange(s,c,i)}})):null)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.connectionStatus,o=t.modeName,i=t.fullName,s=t.members,c=t.is_admin,l=t.event,u=this.state,d=u.right,m=u.open,p=u.alertMessage,h=u.alert,f=u.isAway,g=this.props.match.params.roomId;return r.a.createElement("div",null,a!==Ot&&"Going away"!==l?r.a.createElement("div",{className:n.loaderContainer},r.a.createElement(da.a,{className:n.loader})):r.a.createElement("div",{className:n.root,style:{position:"QandA"===o||"MeetingQueue"===o?"absolute":"fixed"}},r.a.createElement(Se.a,{open:h,onClose:this.handleClose,PaperProps:{style:{backgroundColor:"#333333"}}},r.a.createElement(Ce.a,{style:{color:"#edeaea"}}," Are you sure you want to leave this room ?"),r.a.createElement(ke.a,null,r.a.createElement(ve.a,{onClick:function(){e.handleClose(),e.props.history.push("/")},color:"secondary"},"Yes"),r.a.createElement(ve.a,{onClick:function(){e.handleClose()},color:"secondary",autoFocus:!0},"No"))),r.a.createElement(ma.a,{anchor:"right",open:d,onClose:this.toggleDrawer(!1,"right")},r.a.createElement(fe.a,{className:n.topDrawer},r.a.createElement(he.a,{className:n.headAvatar,style:{margin:"10px"}},this.userNameFirstLetterGetter(i)),r.a.createElement(ge.a,{primary:i}),this.renderShareButton()),m?r.a.createElement(ha.a,{severity:"Copied!"===p?"success":"error"},p):null,r.a.createElement(je.a,null),s.map(function(t,a){return r.a.createElement("div",{key:a},r.a.createElement(fe.a,{button:!0,className:n.members},r.a.createElement(he.a,{className:n.headAvatar,style:{margin:"10px"}},e.userNameFirstLetterGetter(t.fullName)),r.a.createElement(ge.a,{primary:t.fullName})))}),r.a.createElement("div",{className:n.bottomDrawer},this.renderDrawerButton())),r.a.createElement("div",{className:n.header},r.a.createElement("div",{className:n.headerText},r.a.createElement(pe.a,{title:"Leave room",arrow:!0},r.a.createElement("img",{style:{objectFit:"contain"},className:n.logo,onClick:function(){return e.handleClickOpen()},src:"/meetings/logo1.png",alt:"logo",width:"47px"})),r.a.createElement(je.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(ye.a,{style:{margin:12,color:"#545454",fontWeight:"bolder"}},g)),r.a.createElement("div",{className:n.headAvatarContainer},r.a.createElement(pe.a,{title:c?"View member & Change mode":"View member",arrow:!0},r.a.createElement(he.a,{className:n.headAvatar,onClick:this.toggleDrawer(!0,"right")},this.userNameFirstLetterGetter(i))))),r.a.createElement(la,null),r.a.createElement("div",{className:n.bottomNav},r.a.createElement(pa.a,{in:f},r.a.createElement(ha.a,{className:n.alert,severity:"error",icon:!1,action:r.a.createElement(pe.a,{title:"Refresh",arrow:!0},r.a.createElement(Ne.a,{onClick:function(){return window.location.reload()}},r.a.createElement(ya.a,null)))},r.a.createElement(ye.a,null," You had been disconnected from the room, please refresh the page"))))))}}]),n}(r.a.Component),Oa=Object(p.f)(Object(f.b)(function(e){return{connectionStatus:e.room.connectionStatus,roomId:e.room.roomId,queue:e.room.queue,userName:e.user.userName,fullName:e.user.fullName,members:e.room.members,is_admin:e.room.is_admin,modeName:e.room.modeName,event:e.room.event}},function(e,t){return{connectToRoom:function(t,n,a){e(Zt(t,n,a))},disconnectFromRoom:function(t){e(en(t))},changingMode:function(t,n,a){e(nn(t,n,a))}}})(Object(me.a)(jt)(ba))),Na=n(478);function Sa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var Ca=function(e){Object(l.a)(n,e);var t=Sa(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"goHome",value:function(){this.props.history.push("/")}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:t.root},r.a.createElement("h4",null,"Oops... An error occured or ",r.a.createElement("br",null)," room not found (404)"),r.a.createElement(ve.a,{className:t.button,onClick:function(){return e.goHome()}},"Home site"))}}]),n}(r.a.Component),Ra=Object(p.f)(Object(Na.a)(function(e){return{root:{alignItems:"center",justifyContent:"center",height:"100vh",width:"100vw",display:"flex",background:"#edeaea",flexDirection:"column"},button:{background:"linear-gradient(45deg, #545454 30%, #333333 90%)",border:0,margin:40,borderRadius:10,color:"#edeaea",height:50,fontWeight:"bolder",width:200,padding:"0 25px","&:hover":{boxShadow:"5px 5px 5px 0 rgba(0,0,0,.3)"}}}})(Ca));function _a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var ka=function(e){Object(l.a)(n,e);var t=_a(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=e.target.value;t?a.setState({query:t,disabled:!0}):a.setState({query:t,disabled:!1})},a.keyPress=function(e){var t=e.target.value;13===e.keyCode&&(t?(a.setState({disabled:!1}),a.joinRoom(t)):a.setState({disabled:!1}))},a.state={query:"",disabled:!1},a}return Object(c.a)(n,[{key:"joinRoom",value:function(e){this.state.disabled&&this.props.history.push("/room/".concat(e))}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state.query;return r.a.createElement("div",{className:t.root},r.a.createElement(Ee.a,{in:!0},r.a.createElement("div",{className:t.inputField},r.a.createElement(_e.a,{value:n,onChange:this.handleChange,onKeyDown:this.keyPress,InputProps:{disableUnderline:!0,className:t.inputId},placeholder:"Enter Room ID here..."}),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(ve.a,{variant:"text",className:t.button,onClick:function(){e.joinRoom(n)}},"Join")))),r.a.createElement("div",null,r.a.createElement("div",{className:t.bottomNav},r.a.createElement("img",{onClick:function(){return e.props.history.push("/")},className:t.idInputLogo,src:"/meetings/logo1.png",alt:"logo",width:"50px"}))))}}]),n}(r.a.Component),wa=Object(p.f)(Object(f.b)(function(e){return{userName:e.user.userName}},function(e,t){return{}})(Object(me.a)(jt)(ka)));function ja(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var Ia=function(e){Object(l.a)(n,e);var t=ja(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=e.target.value;a.setState({query:t.trimLeft()})},a.keyPress=function(e){if("Enter"===e.key){var t=e.target.value;a.getName(t.trimRight())}},a.getName=function(e){a.state.query&&(a.props.RegisterUserName(e),a.props.history.goBack())},a.state={query:""},a}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state.query;return r.a.createElement("div",{className:t.root},r.a.createElement(Ee.a,{in:!0},r.a.createElement("div",{className:t.inputField},r.a.createElement(_e.a,{value:n,onChange:this.handleChange,onKeyUp:this.keyPress,InputProps:{disableUnderline:!0,className:t.inputId},placeholder:"Input your name here..."}),r.a.createElement("br",null),r.a.createElement(ve.a,{className:t.button,onClick:function(t){e.getName(n.trimRight()),t.preventDefault()}},"Proceed"))))}}]),n}(r.a.Component),xa=Object(p.f)(Object(f.b)(function(e){return{}},function(e,t){return{RegisterUserName:function(t){e(ue(t))}}})(Object(me.a)(jt)(Ia)));n(474);function Da(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var Aa=Object(h.b)(),Ta=function(e){Object(l.a)(n,e);var t=Da(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).checkAuth=function(){if(e.props.isLoggedin){try{N.a.get("exp")<(new Date).getTime()-1e6&&(e.props.refreshToken(),e.props.setupUserAccount())}catch(t){return}e.props.setupUserAccount()}},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.saveRouteHistory(Aa),this.props.setError(),setInterval(function(){return e.checkAuth()},4e5)}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(m.a,{basename:"/",history:Aa},r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/room/:roomId"},r.a.createElement(Oa,null)),r.a.createElement(p.a,{exact:!0,path:"/"},r.a.createElement(Dt,null)),r.a.createElement(p.a,{exact:!0,path:"/join"},r.a.createElement(wa,null)),r.a.createElement(p.a,{exact:!0,path:"/register"},r.a.createElement(xa,null)),r.a.createElement(p.a,null,r.a.createElement(Ra,null)))))}}]),n}(r.a.Component),Ma=Object(f.b)(function(e){return{isLoggedin:e.user.isLoggedin}},function(e,t){return{saveRouteHistory:function(t){e(function(e){return function(t){t({type:g,payload:e})}}(t))},refreshToken:function(t){e(function(e){e({type:L}),se()("".concat(ce,"/refreshtoken"),{method:"POST",withCredentials:!0}).then(function(t){e({type:F});var n=1e3*t.data.AuthenticationResult.ExpiresIn;N.a.set("exp",(new Date).getTime()+n-1e6)}).catch(function(t){e({type:B}),console.log(t),e(b("/signin"))})})},setupUserAccount:function(t){e(de())},setError:function(){e(function(e){e({type:k})})}}})(Ta),La=n(157),Fa=n(338),Ba=Object(La.b)({room:Ct,user:oe,app:v}),Ua=n(339);var Pa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||La.c,qa=function(){try{if("0.4"!==localStorage.getItem("version"))return;var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),Ga=Object(La.d)(Ba,qa,Pa(Object(La.a)(Fa.a)));"serviceWorker"in navigator&&new Ua.a("/sw.js").register().then(function(e){console.log(e)}).catch(function(e){console.log(e)});Ga.subscribe(function(){localStorage.setItem("version","0.4"),function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){console.log(n)}}({user:Ga.getState().user})}),i.a.render(r.a.createElement(f.a,{store:Ga},r.a.createElement(Ma,null)),document.getElementById("root"))}},[[371,1,2]]]);
//# sourceMappingURL=main.c0d92b74.chunk.js.map